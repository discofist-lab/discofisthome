<!DOCTYPE html>
<html lang="en">
<head>
  <!-- -----------------------------------------------------------
     META / TITLE / FAVICON
  ----------------------------------------------------------- -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Disco Fist – Shop</title>
  <link rel="icon" href="discofistweb/favicon.png" type="image/png" />

  <!-- -----------------------------------------------------------
     GLOBAL STYLES
  ----------------------------------------------------------- -->
  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      background: #000;
      font-family: "Courier New", monospace;
    }

    /* -----------------------------------------------------------
       MENU + MOBILE TOGGLE
    ----------------------------------------------------------- */
    .menu {
      display: flex;
      justify-content: center;
      background: #111;
      padding: 15px 0;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 20;
      transition: top 0.3s ease;
      flex-wrap: wrap;
    }

    .menu a {
      color: #ddd;
      text-decoration: none;
      margin: 0 20px;
      font-weight: bold;
      letter-spacing: 2px;
      position: relative;
    }

    .menu a:hover,
    .menu a.active {
      color: #5a7fa3;
    }

    #cartBadge {
      display: none;
      position: absolute;
      top: -8px;
      right: -12px;
      background: #e33;
      color: white;
      padding: 2px 6px;
      border-radius: 50%;
      font-size: 12px;
      font-weight: bold;
    }

    .menu-toggle {
      display: none;
      position: fixed;
      top: 15px;
      right: 20px;
      z-index: 30;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
    }

    .menu-toggle img {
      width: 32px;
      height: 32px;
      filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.4));
    }

    @media screen and (max-width: 600px) {
      .menu {
        flex-direction: column;
        align-items: center;
        overflow: hidden;
        max-height: 0;
        opacity: 0;
        padding: 0;
      }

      .menu.show {
        max-height: 300px;
        opacity: 1;
        padding: 20px 0;
      }

      .menu a {
        margin: 10px 0;
      }

      .menu-toggle {
        display: block;
      }
    }

    /* -----------------------------------------------------------
       BANNER CAROUSEL
    ----------------------------------------------------------- */
.banner-carousel {
  position: relative;
  width: 100%;
  margin-top: 55px; /* space under fixed menu */
  overflow: hidden;
  background: #000;
}

.banner-carousel img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: auto;
  opacity: 0;
  filter: blur(8px);
  transition: opacity 1.8s ease-in-out, filter 1.8s ease-in-out;
  z-index: 0;
}

.banner-carousel img.active {
  position: relative; /* ✅ key fix */
  opacity: 1 !important;
  filter: blur(0px) !important;
  z-index: 1;
}


    /* -----------------------------------------------------------
       SHOP CONTAINER + CATALOGUE WRAPPERS
    ----------------------------------------------------------- */
    .shop-container {
      margin-top: 8px; /* small separation after banner */
      width: 100%;
    }

    .catalogue-wrapper {
      position: relative;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    .catalogue-wrapper img {
      width: 100%;
      display: block;
    }

    .catalogue-wrapper.loaded {
      height: auto;
    }

    /* -----------------------------------------------------------
       SEGMENT OVERLAYS
    ----------------------------------------------------------- */
    .catalogue-segment {
      position: absolute;
      cursor: pointer;
    }

    /* Debug overlay – uncomment while testing
    .catalogue-segment {
      background: rgba(255,0,0,0.1);
      outline: 1px solid rgba(255,0,0,0.4);
    }
    */

    /* -----------------------------------------------------------
       SCROLL-TO-TOP BUTTON
    ----------------------------------------------------------- */
    #scrollTopBtn {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 55px;
      height: 55px;
      background: #444;
      color: white;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 26px;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.4s ease;
      z-index: 50;
      border: 2px solid #777;
    }

    #scrollTopBtn:hover {
      background: #666;
    }

    /* -----------------------------------------------------------
       MINI CART DRAWER
    ----------------------------------------------------------- */
    #miniCart {
      position: fixed;
      top: 0;
      right: -300px;
      width: 300px;
      height: 100%;
      background: #111;
      color: white;
      padding: 20px;
      box-shadow: -4px 0 10px rgba(0,0,0,0.5);
      transition: right 0.4s ease;
      z-index: 100;
      overflow-y: auto;
      border-left: 2px solid #333;
    }

    #miniCart.open {
      right: 0;
    }

    #miniCart h2 {
      margin-top: 0;
      font-size: 20px;
      letter-spacing: 2px;
    }

    #closeCart {
      cursor: pointer;
      color: #aaa;
      font-size: 18px;
      margin-bottom: 10px;
      display: inline-block;
    }

    #closeCart:hover {
      color: white;
    }

    .cart-item {
      padding: 10px 0;
      border-bottom: 1px solid #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
    }

    .remove-btn {
      color: #e33;
      cursor: pointer;
      margin-left: 8px;
      font-size: 14px;
    }

    #miniCartSubtotal {
      margin-top: 15px;
      font-size: 16px;
      font-weight: bold;
      border-top: 1px solid #333;
      padding-top: 10px;
    }

    .checkout-btn {
      display: block;
      margin-top: 15px;
      padding: 10px;
      background: #33d6d2;
      color: #000;
      text-align: center;
      font-weight: bold;
      text-decoration: none;
      border-radius: 4px;
    }

/* -------------------------------------------
   SIMPLE HAMBURGER ICON (PURE CSS)
------------------------------------------- */
.hamburger {
  width: 28px;
  height: 3px;
  background: #fff;
  position: relative;
  transition: background 0.3s ease;
}

.hamburger::before,
.hamburger::after {
  content: "";
  position: absolute;
  left: 0;
  width: 28px;
  height: 3px;
  background: #fff;
  transition: transform 0.3s ease;
}

.hamburger::before {
  top: -8px;
}

.hamburger::after {
  top: 8px;
}

#cartToast {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background: #33d6d2;
  color: #000;
  padding: 10px 20px;
  border-radius: 4px;
  font-weight: bold;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease;
  z-index: 200;
}


  </style>
</head>

<body>

	<div id="cartToast">Added to cart</div>

  <!-- -----------------------------------------------------------
     MOBILE MENU TOGGLE BUTTON
  ----------------------------------------------------------- -->
  <button class="menu-toggle" onclick="toggleMenu()">
    <div class="hamburger"></div>
  </button>


  <!-- -----------------------------------------------------------
     MAIN MENU
  ----------------------------------------------------------- -->
  <nav class="menu" id="mainMenu">
    <a href="index.html">DISCO FIST</a>
    <a href="pagetwo.html">LISTEN</a>
    <a href="shop.html" class="active">SHOP</a>

    <a href="#" onclick="toggleMiniCart()">
      CART <span id="cartBadge"></span>
    </a>

    <a href="contact.html">CONTACT</a>
  </nav>

  <!-- -----------------------------------------------------------
     MINI CART DRAWER
----------------------------------------------------------- -->
<div id="miniCart">
  <span id="closeCart" onclick="toggleMiniCart()">✕ Close</span>

  <h2>
    <a href="cart.html" style="color:white; text-decoration:none;">
      Your Cart →
    </a>
  </h2>

  <div id="cartItems"></div>

  <!-- NOTES BOX -->
  <div style="margin-top:15px;">
    <label for="cartNotes" style="color:#ccc; font-size:14px;">Notes:</label>
    <textarea id="cartNotes" placeholder="PLEASE ADD THE SPECIFIC SIZE & COLOUR OF YOUR ORDER"
      style="width:100%; height:70px; margin-top:5px; background:#222; color:white; border:1px solid #444; padding:6px; font-family:inherit; font-size:13px;"></textarea>
  </div>

  <div id="miniCartSubtotal">Subtotal: €0.00</div>

  <!-- PAYPAL CHECKOUT BUTTON -->
  <a href="https://www.paypal.com/paypalme/discofist"
     class="checkout-btn"
     target="_blank"
     onclick="alert('Please Specify Size and Colour in Notes');">
     Pay Now →
  </a>
</div>


  <!-- -----------------------------------------------------------
     SCROLL TO TOP BUTTON
  ----------------------------------------------------------- -->
  <div id="scrollTopBtn" onclick="scrollToTop()">↑</div>

  <!-- -----------------------------------------------------------
     BANNER CAROUSEL
  ----------------------------------------------------------- -->
  <div class="banner-carousel">
    <img src="shopbanner01.jpeg" class="banner active" alt="Shop Banner 1">
    <img src="shopbanner02.jpeg" class="banner" alt="Shop Banner 2">
    <img src="shopbanner03.jpeg" class="banner" alt="Shop Banner 3">
  </div>

  <!-- -----------------------------------------------------------
     SHOP CATALOGUE IMAGES (8 WRAPPERS)
  ----------------------------------------------------------- -->
  <div class="shop-container">

    <!-- IMAGE 1: 4 vertical segments -->
    <div class="catalogue-wrapper" data-image-index="1">
      <img src="webshop_catalog_image.jpeg" alt="Catalogue 1">
    </div>

    <!-- IMAGE 2: left half + right top + right bottom (3 segments) -->
    <div class="catalogue-wrapper" data-image-index="2">
      <img src="webshop_catalog_image_02.jpeg" alt="Catalogue 2">
    </div>

    <!-- IMAGE 3: 2 vertical segments -->
    <div class="catalogue-wrapper" data-image-index="3">
      <img src="webshop_catalog_image_03.jpeg" alt="Catalogue 3">
    </div>

    <!-- IMAGE 4: top-left, top-right, bottom (3 segments) -->
    <div class="catalogue-wrapper" data-image-index="4">
      <img src="webshop_catalog_image_04.jpeg" alt="Catalogue 4">
    </div>

    <!-- IMAGE 5: 2 horizontal segments -->
    <div class="catalogue-wrapper" data-image-index="5">
      <img src="webshop_catalog_image_05.jpeg" alt="Catalogue 5">
    </div>

    <!-- IMAGE 6: same as image 2 -->
    <div class="catalogue-wrapper" data-image-index="6">
      <img src="webshop_catalog_image_06.jpeg" alt="Catalogue 6">
    </div>

    <!-- IMAGE 7: same as image 2 -->
    <div class="catalogue-wrapper" data-image-index="7">
      <img src="webshop_catalog_image_07.jpeg" alt="Catalogue 7">
    </div>

    <!-- IMAGE 8: reversed layout of image 2 -->
    <div class="catalogue-wrapper" data-image-index="8">
      <img src="webshop_catalog_image_08.jpeg" alt="Catalogue 8">
    </div>

  </div>

  <!-- -----------------------------------------------------------
     SCRIPT: MENU, SCROLL, CAROUSEL, CART, SEGMENTS
  ----------------------------------------------------------- -->
  <script>

function showToast() {
  const toast = document.getElementById('cartToast');
  if (!toast) return;

  toast.style.opacity = '1';
  setTimeout(() => {
    toast.style.opacity = '0';
  }, 1200);
}

    /* -----------------------------------------------------------
       MOBILE MENU TOGGLE
    ----------------------------------------------------------- */
    function toggleMenu() {
      document.getElementById('mainMenu').classList.toggle('show');
    }

    /* -----------------------------------------------------------
       HIDE MENU ON SCROLL DOWN, SHOW ON SCROLL UP
       + SCROLL-TO-TOP BUTTON VISIBILITY
    ----------------------------------------------------------- */
    let lastScrollTop = 0;
    const menu = document.getElementById('mainMenu');
    const scrollTopBtn = document.getElementById('scrollTopBtn');

    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      if (scrollTop > lastScrollTop) {
        menu.style.top = '-80px';
      } else {
        menu.style.top = '0';
      }
      lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;

      scrollTopBtn.style.opacity = scrollTop > 300 ? '1' : '0';
    });

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    /* -----------------------------------------------------------
       BANNER CAROUSEL (BLUR-FADE + HOVER PAUSE)
    ----------------------------------------------------------- */
    const banners = document.querySelectorAll('.banner-carousel img');
    let currentBanner = 0;
    let carouselInterval;

    function startCarousel() {
      carouselInterval = setInterval(() => {
        banners[currentBanner].classList.remove('active');
        currentBanner = (currentBanner + 1) % banners.length;
        banners[currentBanner].classList.add('active');
      }, 5000);
    }

    function stopCarousel() {
      clearInterval(carouselInterval);
    }

    startCarousel();

    const carousel = document.querySelector('.banner-carousel');
    carousel.addEventListener('mouseenter', stopCarousel);
    carousel.addEventListener('mouseleave', startCarousel);

    /* -----------------------------------------------------------
       MINI CART TOGGLE
    ----------------------------------------------------------- */
    function toggleMiniCart() {
      document.getElementById('miniCart').classList.toggle('open');
    }

    /* -----------------------------------------------------------
       CART DATA + HELPERS (LOCALSTORAGE)
    ----------------------------------------------------------- */

    // Placeholder product definitions – edit names/prices later.
    const products = [
      /* Image 1 – 4 vertical */
      { id: 1,  name: "I Hate Djs Characters Longsleeve",       price: 30 },
      { id: 2,  name: "More Prog Blue on Blue Longsleeve",       price: 25 },
      { id: 3,  name: "More Prog Blue/Red Longsleeve Backprint",       price: 25 },
      { id: 4,  name: "More Prog Red on Blue Longsleeve Spineprint",       price: 40 },

      /* Image 2 – left + right-top + right-bottom */
      { id: 5,  name: "I Hate Djs Characters - Elegant Cut",           price: 20 },
      { id: 6,  name: "More Prog Blue on Blue - Red Ass Cheeks - Elegant Cut",       price: 25 },
      { id: 7,  name: "I Hate Djs Red on Blue Back Stamp - Elegant Cut",    price: 30 },

      /* Image 3 – 2 vertical */
      { id: 8,  name: "I Hate Djs Characters Blue on Beige Tee",           price: 25 },
      { id: 9,  name: "I Hate Djs Characters Blue on Navy Tee",          price: 25 },

      /* Image 4 – top-left, top-right, bottom */
      { id: 10, name: "More Prog Brown on Brown Backprint Tee",        price: 25 },
      { id: 11, name: "More Prog Brown on Brown, Red Backprint Tee",       price: 22 },
      { id: 12, name: "More Prog Blue/Red on Brown Tee",         price: 22 },

      /* Image 5 – top, bottom */
      { id: 13, name: "I Hate Djs Tramp Stamp & Ass Cheeks Tee",            price: 25 },
      { id: 14, name: "I Hate Djs Tramp Stamp & Ass Cheeks Tee - XXL Grey",         price: 22 },

      /* Image 6 – same layout as 2 */
      { id: 15, name: "More Prog Blue/Navy on Beige",           price: 25 },
      { id: 16, name: "Disco Fist Backstamp - Blue XXL",       price: 22 },
      { id: 17, name: "More Prog Red on Blue",    price: 22 },

      /* Image 7 – same layout as 2 */
      { id: 18, name: "More Prog Red on Brown",           price: 25 },
      { id: 19, name: "I Hate Djs Ass Cheeks + Backstamp",       price: 22 },
      { id: 20, name: "Disco Fist Backstamp - Red on Red XXL",    price: 32 },

      /* Image 8 – reversed layout of 2 */
      { id: 21, name: "Please Explain Tee - Red on Washed Blue",        price: 25 },
      { id: 22, name: "I Hate Djs Classic Tee Black n White",     price: 25 },
      { id: 23, name: "I Hate Djs Ass Stamp Please - Red on Washed Blue",          price: 25 }
    ];

    let cart = JSON.parse(localStorage.getItem('cart') || '[]');

    const cartBadge = document.getElementById('cartBadge');
    const cartItemsContainer = document.getElementById('cartItems');
    const miniCartSubtotal = document.getElementById('miniCartSubtotal');

    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function getCartTotals() {
      let count = 0;
      let subtotal = 0;
      cart.forEach(item => {
        count += item.quantity;
        subtotal += item.price * item.quantity;
      });
      return { count, subtotal };
    }

    function updateBadge() {
      const { count } = getCartTotals();
      if (count > 0) {
        cartBadge.textContent = count;
        cartBadge.style.display = 'inline-block';
      } else {
        cartBadge.style.display = 'none';
      }
    }

    function renderMiniCart() {
      cartItemsContainer.innerHTML = '';
      const { subtotal } = getCartTotals();

      if (cart.length === 0) {
        cartItemsContainer.innerHTML = "<div>Your cart is empty.</div>";
      } else {
        cart.forEach((item, index) => {
          const row = document.createElement('div');
          row.className = 'cart-item';

          row.innerHTML = `
            <span>${item.product} x ${item.quantity}</span>
            <span>
              €${(item.price * item.quantity).toFixed(2)}
              <span class="remove-btn" onclick="removeItem(${index})">✕</span>
            </span>
          `;

          cartItemsContainer.appendChild(row);
        });
      }

      miniCartSubtotal.textContent = `Subtotal: €${subtotal.toFixed(2)}`;
    }

    function removeItem(index) {
      cart.splice(index, 1);
      saveCart();
      updateBadge();
      renderMiniCart();
    }

    function addToCartByProductId(id) {
      const product = products.find(p => p.id === id);
      if (!product) return;

      const existing = cart.find(item => item.product === product.name);
      if (existing) {
        existing.quantity += 1;
      } else {
        cart.push({
          product: product.name,
          price: product.price,
          quantity: 1
        });
      }

      saveCart();
      updateBadge();
      renderMiniCart();
      showToast(); 
    }

    /* -----------------------------------------------------------
       SEGMENT GEOMETRY PER IMAGE
    ----------------------------------------------------------- */
    function createSegment(parent, bounds, productId) {
      const seg = document.createElement('div');
      seg.className = 'catalogue-segment';
      seg.style.left = bounds.left;
      seg.style.top = bounds.top;
      seg.style.width = bounds.width;
      seg.style.height = bounds.height;
      seg.dataset.productId = productId;
      seg.addEventListener('click', () => addToCartByProductId(productId));
      parent.appendChild(seg);
    }

    function setupImageSegments() {
      const wrappers = document.querySelectorAll('.catalogue-wrapper');

      wrappers.forEach(wrapper => {
        const index = parseInt(wrapper.dataset.imageIndex, 10);
        const img = wrapper.querySelector('img');

        img.addEventListener('load', () => {
          wrapper.classList.add('loaded');

          /* IMAGE 1: 4 vertical equal segments */
          if (index === 1) {
            createSegment(wrapper, { left: '0%',   top: '0%', width: '25%', height: '100%' }, 1);
            createSegment(wrapper, { left: '25%',  top: '0%', width: '25%', height: '100%' }, 2);
            createSegment(wrapper, { left: '50%',  top: '0%', width: '25%', height: '100%' }, 3);
            createSegment(wrapper, { left: '75%',  top: '0%', width: '25%', height: '100%' }, 4);
          }

          /* IMAGE 2: left half, right-top, right-bottom (3 segments) */
          if (index === 2) {
            createSegment(wrapper, { left: '0%',   top: '0%', width: '50%', height: '100%' }, 5);
            createSegment(wrapper, { left: '50%',  top: '0%', width: '50%', height: '50%'  }, 6);
            createSegment(wrapper, { left: '50%',  top: '50%',width: '50%', height: '50%'  }, 7);
          }

          /* IMAGE 3: 2 vertical segments */
          if (index === 3) {
            createSegment(wrapper, { left: '0%',   top: '0%', width: '50%', height: '100%' }, 8);
            createSegment(wrapper, { left: '50%',  top: '0%', width: '50%', height: '100%' }, 9);
          }

          /* IMAGE 4: top-left, top-right, bottom */
          if (index === 4) {
            createSegment(wrapper, { left: '0%',   top: '0%',   width: '50%', height: '50%' }, 10);
            createSegment(wrapper, { left: '50%',  top: '0%',   width: '50%', height: '50%' }, 11);
            createSegment(wrapper, { left: '0%',   top: '50%',  width: '100%',height: '50%' }, 12);
          }

          /* IMAGE 5: 2 horizontal segments */
          if (index === 5) {
            createSegment(wrapper, { left: '0%',   top: '0%',   width: '100%', height: '50%' }, 13);
            createSegment(wrapper, { left: '0%',   top: '50%',  width: '100%', height: '50%' }, 14);
          }

          /* IMAGE 6: same layout as 2 */
          if (index === 6) {
            createSegment(wrapper, { left: '0%',   top: '0%', width: '50%', height: '100%' }, 15);
            createSegment(wrapper, { left: '50%',  top: '0%', width: '50%', height: '50%'  }, 16);
            createSegment(wrapper, { left: '50%',  top: '50%',width: '50%', height: '50%'  }, 17);
          }

          /* IMAGE 7: same layout as 2 */
          if (index === 7) {
            createSegment(wrapper, { left: '0%',   top: '0%', width: '50%', height: '100%' }, 18);
            createSegment(wrapper, { left: '50%',  top: '0%', width: '50%', height: '50%'  }, 19);
            createSegment(wrapper, { left: '50%',  top: '50%',width: '50%', height: '50%'  }, 20);
          }

          /* IMAGE 8: reversed layout of 2 */
          if (index === 8) {
            createSegment(wrapper, { left: '0%',   top: '0%', width: '50%', height: '50%'  }, 21);
            createSegment(wrapper, { left: '0%',   top: '50%',width: '50%', height: '50%'  }, 22);
            createSegment(wrapper, { left: '50%',  top: '0%', width: '50%', height: '100%' }, 23);
          }
        });

        // If the image is already cached
        if (img.complete) {
          const evt = new Event('load');
          img.dispatchEvent(evt);
        }
      });
    }

    /* -----------------------------------------------------------
       INITIAL BOOT
    ----------------------------------------------------------- */
    updateBadge();
    renderMiniCart();
    setupImageSegments();
  </script>
</body>
</html>
